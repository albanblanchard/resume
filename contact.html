<!DOCTYPE html>
<html>
<head>
    <title>Contact form using Bootstrap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta charset="utf-8"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,400i,700,700i" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/contact.css"/>
</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <div class="container-fluid">

        <div class="row" id="main">
          <div class="col-md-offset-2 col-md-8">
            <div id="quit"></div>
            <header class="row">
              <div class="col-md-12">
                <h1 id="logo"><img src="img/logo.svg" alt="logo alban">Alban Blanchard</h1>
              </div>
            </header>

            <form role="form" id="contact">
            <div class="row">
              <div class="form-group col-md-6">
                  <!-- <label for="inputName">Name</label> -->
                  <input type="text" class="form-control" id="inputName" placeholder="Enter your name"/>
              </div>
              <div class="form-group col-md-6">
                  <!-- <label for="inputEmail">Email</label> -->
                  <input type="email" class="form-control" id="inputEmail" placeholder="Enter your email"/>
              </div>
            </div>

                <div class="row">
                  <div class="form-group col-md-12">
                      <!-- <label for="inputMessage">Message</label> -->
                      <textarea class="form-control" id="inputMessage" placeholder="Enter your message"></textarea>

                  </div>
                  <div class="form-group col-md-12">
                    <button type="button" class="btn btn-primary submitBtn" onclick="submitContactForm()">envoyer mon message</button>
                  </div>
                </div>
              </form>

              <h2 class="statusMsg"></h2>

          </div>
        </div>  <!-- main -->

          <footer id="footer" class="row">
            <section id="copyright" class="col-lg-12">
              <p>Garantie fait main, 100% pixels recyclés.</p>
                <p><a href="#logo">me</a> © 2017 </p>
              </section>
              <section id="socials" class="col-lg-12">
                <p><a href="https://github.com/albanblanchard" class="socicon-github"></a></p> <p><a href="https://www.linkedin.com/in/albanblanchard/" class="socicon-linkedin"></a></p>
              </section>
            </footer>

</div><!-- container -->
  <script src="js/bootstrap.min.js"></script>
  <!-- <script src="js/scriptContact.js"></script> -->
  <!-- <script src="js/validator.min.js"></script> -->
  <script>
function submitContactForm(){
    var reg = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
    var name = $('#inputName').val();
    var email = $('#inputEmail').val();
    var message = $('#inputMessage').val();
    if(name.trim() == '' ){
        alert('Please enter your name.');
        $('#inputName').focus();
        return false;
    }else if(email.trim() == '' ){
        alert('Please enter your email.');
        $('#inputEmail').focus();
        return false;
    }else if(email.trim() != '' && !reg.test(email)){
        alert('Please enter valid email.');
        $('#inputEmail').focus();
        return false;
    }else if(message.trim() == '' ){
        alert('Please enter your message.');
        $('#inputMessage').focus();
        return false;
    }else{
        $.ajax({
            type:'POST',
            url:'php/process.php',
            data:'contactFrmSubmit=1&name='+name+'&email='+email+'&message='+message,
            beforeSend: function () {
                $('.submitBtn').attr("disabled","disabled");
                $('.modal-body').css('opacity', '.5');
            },
            success:function(msg){
                if(msg == 'ok'){
                    $('#inputName').val('');
                    $('#inputEmail').val('');
                    $('#inputMessage').val('');
                    $('.statusMsg').html('<span style="color:black;">Thanks for contacting us, we\'ll get back to you soon.</p>');
                }else{
                    $('.statusMsg').html('<span style="color:black;">Some problem occurred, please try again.</span>');
                }
                $('.submitBtn').removeAttr("disabled");
                // $('.modal-body').css('opacity', '');
            }
        });
    }
}
</script>
</body>
</html>
